---
title: "PROYECTO 1"
author: "Grupo 4"
date: "`r Sys.Date()`"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(tidyverse)
library(haven)
library(janitor)
library(fs)
library(ggplot2)
library(labelled)
```


```{r}
unir_spss <- function(ruta_carpeta) {
  

  archivos <- dir_ls(ruta_carpeta, glob = "*.sav")
  
  if(length(archivos) == 0) {
    stop("¡Error! No encontré ningún archivo .sav en esa carpeta.")
  }
  
  message(paste("Se encontraron", length(archivos), "archivos. Iniciando unión segura..."))
  

  leer_y_normalizar <- function(archivo) {

    message(paste("  -> Procesando:", path_file(archivo)))
    
    read_sav(archivo) %>%

      clean_names() %>% 

      zap_labels() %>% 

      mutate(across(everything(), as.character))
  }
  

  df_unido <- map_dfr(archivos, leer_y_normalizar, .id = "origen_archivo")
  
  message("Unión completada. Restaurando tipos de datos...")
  
  #
  df_final <- df_unido %>%
    type_convert(col_types = cols()) 
    
  return(df_final)
}
```

```{r}
df_defunciones <- unir_spss("./Defunciones")
```

# Avances del proyecto 1

```{r dimensiones_del_conjunto_de_datos}
# Numero de filas y columnas
total_observaciones <- nrow(df_defunciones)
total_variables <- ncol(df_defunciones)

cat("Cantidad de Observaciones (Filas):", format(total_observaciones, big.mark=","), "\n")
cat("Cantidad de Variables (Columnas):", total_variables, "\n")
```
El conjunto de datos consolidado, que abarca el período de 2012 a 2022, presenta una estructura robusta para el análisis de minería. Se identificaron un total de 950,793 observaciones; cada fila representa un registro único de defunción procesado por el INE, lo que constituye un volumen de datos estadísticamente significativo para detectar patrones de mortalidad a nivel nacional. En cuanto a la dimensionalidad, el dataset cuenta con 32 variables (columnas). Estos atributos contienen la información multidimensional de cada suceso, integrando datos geográficos, demográficos y médicos necesarios para la segmentación y el modelado predictivo.

